<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="Images/faviconImg.png">
    <title>Sharing Silence</title>

    <!-- Links:  -->
    <script src="https://kit.fontawesome.com/1f1a295127.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- This is the landing page section of the website -->
    <div class="diffHomeContainer">
        <div class="navContainer">
            <div class="navLinks">
                <a href="index.html" class="text">Home</a>
                <a href="javascript:void(0)" onclick="openDiffOverlay('aboutOverlay')" class="text">About</a>
                <a href="javascript:void(0)" onclick="openDiffOverlay('filmsOverlay')" class="text">Scenes</a>
                <a href="bts.html" class="text">Behind The Scenes</a>
            </div>
        </div>
        
        <div class="diffVideoContainer">
            <div id="player"></div>
            <div id="YTbuttonContainer" style="text-align:center; padding-top:20px;"></div>
        </div>

        <!-- <iframe id="diffVideo" width="560" height="315" src="https://www.youtube.com/embed/tJ6aB6G3W1w?si=patPvLbl4io7fTXs&vq=hd1080"
            title="YouTube video player" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
    </div>

    <div id="aboutOverlay">
        <a href="javascript:void(0)" onclick="closeDiffOverlay('aboutOverlay')" class="closeBtn">X</a>
        <h2 class="text aboutHeader">About the Film</h2>
        <p class="text aboutParagraph">"Sharing Silence" is an interactive film that delves into the life of a musician, who
            grapples
            with the gradual loss of his hearing. As his world begins to unravel, he becomes overshadowed by fear and panic
            as his hearing deteriorates.
            Despite the unwavering support of his friends, he feels isolated in his struggle against silence, teetering
            between acceptance and denial.
    
            Through immersive storytelling and interactive decision-making, "Sharing Silence" explores themes of resilience,
            friendship, and the transformative power of human connection. The viewers are empowered to shape his journey
            through choices and ultimately
            define his story and discovering the profound beauty that can be found in the quietest moments of life.</p>
    
        <h2 class="text meetTeamHeader">Meet the Team!</h2>
        <div class="team-members">
            <div class="team-member">
                <p>Adi</p>
                <div class="contact-icons">
                    <a href="adityapandhare44@gmail.com"><img src="images/gmail.png" alt="Gmail"></a>
                    <a href="https://www.github.com/awesomeadi00" target="_blank"><img src="images/github.png"
                            alt="GitHub"></a>
                </div>
            </div>
            <div class="team-member">
                <p>Dachi</p>
                <div class="contact-icons">
                    <a href="mailto:dt2307@nyu.edu"><img src="images/gmail.png" alt="Gmail"></a>
                    <a href="https://github.com/dachi256" target="_blank"><img src="images/github.png" alt="GitHub"></a>
                </div>
            </div>
            <div class="team-member">
                <p>Elora</p>
                <div class="contact-icons">
                    <a href="edt7330@nyu.edu"><img src="images/gmail.png" alt="Gmail"></a>
                    <a href="https://github.com" target="_blank"><img src="images/github.png" alt="GitHub"></a>
                </div>
            </div>
            <div class="team-member">
                <p>Kevin</p>
                <div class="contact-icons">
                    <a href="mailto:kc4624@nyu.edu"><img src="images/gmail.png" alt="Gmail"></a>
                    <a href="https://github.com/kevinchu-linkai" target="_blank"><img src="images/github.png"
                            alt="GitHub"></a>
                </div>
            </div>
        </div>
    </div>

    <div id="filmsOverlay">
        <a href="javascript:void(0)" onclick="closeDiffOverlay('filmsOverlay')" class="closeBtn">X</a>
        <h2 class="text aboutHeader">Scenes:</h2>
        <div class="films">
            <a href="index.html" class="text filmBox">Beginning</a>
            <a href="choice1a.html" class="text filmBox">Choice 1a: Help Him Out</a>
            <a href="choice1b.html" class="text filmBox">Choice 1b: Leave Him Alone</a>
            <a href="choice2a.html" class="text filmBox">Choice 2a: Stay with them</a>
            <a href="choice2b.html" class="text filmBox">Choice 2b: Run away from them</a>
        </div>
    </div>


    <!-- Youtube API Script -->
    <script>
        // This loads the IFrame Player API code asynchronously.
        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // This function creates an <iframe> (and YouTube player) after the API code downloads.
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '390',
                width: '640',
                videoId: 'tJ6aB6G3W1w',
                playerVars: {
                    'playsinline': 1,
                    'rel': 0,
                    'modestbranding': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // The API will call this function when the video player is ready.
        function onPlayerReady(event) {
            event.target.playVideo();
            event.target.setPlaybackQuality('highres');
        }

        // 5. The API calls this function when the player's state changes.
        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                checkTime();
            }
        }

        var timestamps = [162]; // Timestamps in seconds when you want buttons to appear
        var shownButtons = [];

        function checkTime() {
            var currentTime = Math.floor(player.getCurrentTime());
            timestamps.forEach((time, index) => {
                if (currentTime >= time && !shownButtons.includes(index)) {
                    showButtons();
                    shownButtons.push(index);
                }
            });
            if (player.getPlayerState() == YT.PlayerState.PLAYING) {
                setTimeout(checkTime, 1000); // Check every second while the video is playing
            }
        }

        function showButtons() {
            var buttonContainer = document.getElementById('YTbuttonContainer');
            buttonContainer.innerHTML = ''; // Clear previous buttons if any

            var button1 = document.createElement('button');
            button1.innerText = 'Stay with them';
            button1.onclick = function () {
                window.location.href = 'choice2a.html';
            };
            buttonContainer.appendChild(button1);

            var button2 = document.createElement('button');
            button2.innerText = 'Run away';
            button2.onclick = function () {
                window.location.href = 'choice2b.html';
            };
            buttonContainer.appendChild(button2);
        }
    </script>
    <script src="script.js"></script>
</body>
</html>